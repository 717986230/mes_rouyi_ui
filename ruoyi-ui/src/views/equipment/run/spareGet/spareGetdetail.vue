<template>
    <!-- 备品备件申领（详细信息）   -->
    <div>
        <div style="margin: 20px;font-size:24px ;">
            备品备件申领（详细信息）
        </div>
        <el-card class="box-card" v-model="datafilterdata">
            <div class="topboxheader">
                <svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="48px" height="48px"
                    xmlns="http://www.w3.org/2000/svg">
                    <g transform="matrix(1 0 0 1 -40 -110 )">
                        <path
                            d="M 4.46428571428571 10.7142857142857  L 8.03571428571429 10.7142857142857  C 9.26339285714286 10.7142857142857  10.3143601190476 11.1514136904762  11.1886160714286 12.0256696428571  C 12.0628720238095 12.8999255952381  12.5 13.9508928571429  13 15.1785714285714  L 13 45.5357142857143  C 12.5 46.7633928571429  12.0628720238095 47.8143601190476  11.1886160714286 48.6886160714286  C 10.3143601190476 49.5628720238095  9.26339285714286 50  8.03571428571429 50  L 4.46428571428571 50  C 3.23660714285714 50  2.18563988095238 49.5628720238095  1.31138392857143 48.6886160714286  C 0.437127976190476 47.8143601190476  0 46.7633928571429  0 45.5357142857143  L 0 15.1785714285714  C 0 13.9508928571429  0.437127976190476 12.8999255952381  1.31138392857143 12.0256696428571  C 2.18563988095238 11.1514136904762  3.23660714285714 10.7142857142857  4.46428571428571 10.7142857142857  Z M 46.4285714285714 10.7142857142857  L 46.4285714285714 15.2622767857143  C 47.5074404761905 15.8947172619048  48.3723958333333 16.7596726190476  49.0234375 17.8571428571429  C 49.6744791666667 18.9546130952381  50 20.1450892857143  50 21.4285714285714  L 50 42.8571428571429  C 50 44.8288690476191  49.3024553571429 46.5122767857143  47.9073660714286 47.9073660714286  C 46.5122767857143 49.3024553571429  44.8288690476191 50  42.8571428571429 50  L 18.75 50  C 17.5223214285714 50  16.4713541666667 49.5628720238095  15.5970982142857 48.6886160714286  C 14.7228422619048 47.8143601190476  14.2857142857143 46.7633928571429  15 45.5357142857143  L 15 2.67857142857143  C 14.2857142857143 1.93452380952381  14.546130952381 1.30208333333333  15.0669642857143 0.78125  C 15.5877976190476 0.260416666666669  16.2202380952381 0  16.9642857142857 0  L 35.7142857142857 0  C 36.4583333333333 0  37.2767857142857 0.186011904761907  38.1696428571429 0.558035714285715  C 39.0625 0.930059523809523  39.7693452380952 1.37648809523809  40.2901785714286 1.89732142857143  L 44.53125 6.13839285714286  C 45.0520833333333 6.65922619047619  45.4985119047619 7.36607142857143  45.8705357142857 8.25892857142857  C 46.2425595238095 9.15178571428572  46.4285714285714 9.97023809523809  46.4285714285714 10.7142857142857  Z M 25.6417410714286 43.4988839285714  C 25.8091517857143 43.3314732142857  25.8928571428571 43.1175595238095  25.8928571428571 42.8571428571429  L 25.8928571428571 39.2857142857143  C 25.8928571428571 39.0252976190476  25.8091517857143 38.8113839285714  25.6417410714286 38.6439732142857  C 25.4743303571429 38.4765625  25.2604166666667 38.3928571428571  25 38.3928571428571  L 21.4285714285714 38.3928571428571  C 21.1681547619048 38.3928571428571  20.9542410714286 38.4765625  20.7868303571429 38.6439732142857  C 20.6194196428571 38.8113839285714  20.5357142857143 39.0252976190476  20.5357142857143 39.2857142857143  L 20.5357142857143 42.8571428571429  C 20.5357142857143 43.1175595238095  20.6194196428571 43.3314732142857  20.7868303571429 43.4988839285714  C 20.9542410714286 43.6662946428571  21.1681547619048 43.75  21.4285714285714 43.75  L 25 43.75  C 25.2604166666667 43.75  25.4743303571429 43.6662946428571  25.6417410714286 43.4988839285714  Z M 25.6417410714286 36.3560267857143  C 25.8091517857143 36.1886160714286  25.8928571428571 35.9747023809524  25.8928571428571 35.7142857142857  L 25.8928571428571 32.1428571428571  C 25.8928571428571 31.8824404761905  25.8091517857143 31.6685267857143  25.6417410714286 31.5011160714286  C 25.4743303571429 31.3337053571429  25.2604166666667 31.25  25 31.25  L 21.4285714285714 31.25  C 21.1681547619048 31.25  20.9542410714286 31.3337053571429  20.7868303571429 31.5011160714286  C 20.6194196428571 31.6685267857143  20.5357142857143 31.8824404761905  20.5357142857143 32.1428571428571  L 20.5357142857143 35.7142857142857  C 20.5357142857143 35.9747023809524  20.6194196428571 36.1886160714286  20.7868303571429 36.3560267857143  C 20.9542410714286 36.5234375  21.1681547619048 36.6071428571429  21.4285714285714 36.6071428571429  L 25 36.6071428571429  C 25.2604166666667 36.6071428571429  25.4743303571429 36.5234375  25.6417410714286 36.3560267857143  Z M 25.6417410714286 29.2131696428571  C 25.8091517857143 29.0457589285714  25.8928571428571 28.8318452380952  25.8928571428571 28.5714285714286  L 25.8928571428571 25  C 25.8928571428571 24.7395833333333  25.8091517857143 24.5256696428571  25.6417410714286 24.3582589285714  C 25.4743303571429 24.1908482142857  25.2604166666667 24.1071428571429  25 24.1071428571429  L 21.4285714285714 24.1071428571429  C 21.1681547619048 24.1071428571429  20.9542410714286 24.1908482142857  20.7868303571429 24.3582589285714  C 20.6194196428571 24.5256696428571  20.5357142857143 24.7395833333333  20.5357142857143 25  L 20.5357142857143 28.5714285714286  C 20.5357142857143 28.8318452380952  20.6194196428571 29.0457589285714  20.7868303571429 29.2131696428571  C 20.9542410714286 29.3805803571429  21.1681547619048 29.4642857142857  21.4285714285714 29.4642857142857  L 25 29.4642857142857  C 25.2604166666667 29.4642857142857  25.4743303571429 29.3805803571429  25.6417410714286 29.2131696428571  Z M 32.7845982142857 43.4988839285714  C 32.9520089285714 43.3314732142857  33.0357142857143 43.1175595238095  33.0357142857143 42.8571428571429  L 33.0357142857143 39.2857142857143  C 33.0357142857143 39.0252976190476  32.9520089285714 38.8113839285714  32.7845982142857 38.6439732142857  C 32.6171875 38.4765625  32.4032738095238 38.3928571428571  32.1428571428571 38.3928571428571  L 28.5714285714286 38.3928571428571  C 28.3110119047619 38.3928571428571  28.0970982142857 38.4765625  27.9296875 38.6439732142857  C 27.7622767857143 38.8113839285714  27.6785714285714 39.0252976190476  27.6785714285714 39.2857142857143  L 27.6785714285714 42.8571428571429  C 27.6785714285714 43.1175595238095  27.7622767857143 43.3314732142857  27.9296875 43.4988839285714  C 28.0970982142857 43.6662946428571  28.3110119047619 43.75  28.5714285714286 43.75  L 32.1428571428571 43.75  C 32.4032738095238 43.75  32.6171875 43.6662946428571  32.7845982142857 43.4988839285714  Z M 32.7845982142857 36.3560267857143  C 32.9520089285714 36.1886160714286  33.0357142857143 35.9747023809524  33.0357142857143 35.7142857142857  L 33.0357142857143 32.1428571428571  C 33.0357142857143 31.8824404761905  32.9520089285714 31.6685267857143  32.7845982142857 31.5011160714286  C 32.6171875 31.3337053571429  32.4032738095238 31.25  32.1428571428571 31.25  L 28.5714285714286 31.25  C 28.3110119047619 31.25  28.0970982142857 31.3337053571429  27.9296875 31.5011160714286  C 27.7622767857143 31.6685267857143  27.6785714285714 31.8824404761905  27.6785714285714 32.1428571428571  L 27.6785714285714 35.7142857142857  C 27.6785714285714 35.9747023809524  27.7622767857143 36.1886160714286  27.9296875 36.3560267857143  C 28.0970982142857 36.5234375  28.3110119047619 36.6071428571429  28.5714285714286 36.6071428571429  L 32.1428571428571 36.6071428571429  C 32.4032738095238 36.6071428571429  32.6171875 36.5234375  32.7845982142857 36.3560267857143  Z M 32.7845982142857 29.2131696428571  C 32.9520089285714 29.0457589285714  33.0357142857143 28.8318452380952  33.0357142857143 28.5714285714286  L 33.0357142857143 25  C 33.0357142857143 24.7395833333333  32.9520089285714 24.5256696428571  32.7845982142857 24.3582589285714  C 32.6171875 24.1908482142857  32.4032738095238 24.1071428571429  32.1428571428571 24.1071428571429  L 28.5714285714286 24.1071428571429  C 28.3110119047619 24.1071428571429  28.0970982142857 24.1908482142857  27.9296875 24.3582589285714  C 27.7622767857143 24.5256696428571  27.6785714285714 24.7395833333333  27.6785714285714 25  L 27.6785714285714 28.5714285714286  C 27.6785714285714 28.8318452380952  27.7622767857143 29.0457589285714  27.9296875 29.2131696428571  C 28.0970982142857 29.3805803571429  28.3110119047619 29.4642857142857  28.5714285714286 29.4642857142857  L 32.1428571428571 29.4642857142857  C 32.4032738095238 29.4642857142857  32.6171875 29.3805803571429  32.7845982142857 29.2131696428571  Z M 39.9274553571429 43.4988839285714  C 40.0948660714286 43.3314732142857  40.1785714285714 43.1175595238095  40.1785714285714 42.8571428571429  L 40.1785714285714 39.2857142857143  C 40.1785714285714 39.0252976190476  40.0948660714286 38.8113839285714  39.9274553571429 38.6439732142857  C 39.7600446428571 38.4765625  39.546130952381 38.3928571428571  39.2857142857143 38.3928571428571  L 35.7142857142857 38.3928571428571  C 35.4538690476191 38.3928571428571  35.2399553571429 38.4765625  35.0725446428571 38.6439732142857  C 34.9051339285714 38.8113839285714  34.8214285714286 39.0252976190476  34.8214285714286 39.2857142857143  L 34.8214285714286 42.8571428571429  C 34.8214285714286 43.1175595238095  34.9051339285714 43.3314732142857  35.0725446428571 43.4988839285714  C 35.2399553571429 43.6662946428571  35.4538690476191 43.75  35.7142857142857 43.75  L 39.2857142857143 43.75  C 39.546130952381 43.75  39.7600446428571 43.6662946428571  39.9274553571429 43.4988839285714  Z M 39.9274553571429 36.3560267857143  C 40.0948660714286 36.1886160714286  40.1785714285714 35.9747023809524  40.1785714285714 35.7142857142857  L 40.1785714285714 32.1428571428571  C 40.1785714285714 31.8824404761905  40.0948660714286 31.6685267857143  39.9274553571429 31.5011160714286  C 39.7600446428571 31.3337053571429  39.546130952381 31.25  39.2857142857143 31.25  L 35.7142857142857 31.25  C 35.4538690476191 31.25  35.2399553571429 31.3337053571429  35.0725446428571 31.5011160714286  C 34.9051339285714 31.6685267857143  34.8214285714286 31.8824404761905  34.8214285714286 32.1428571428571  L 34.8214285714286 35.7142857142857  C 34.8214285714286 35.9747023809524  34.9051339285714 36.1886160714286  35.0725446428571 36.3560267857143  C 35.2399553571429 36.5234375  35.4538690476191 36.6071428571429  35.7142857142857 36.6071428571429  L 39.2857142857143 36.6071428571429  C 39.546130952381 36.6071428571429  39.7600446428571 36.5234375  39.9274553571429 36.3560267857143  Z M 39.9274553571429 29.2131696428571  C 40.0948660714286 29.0457589285714  40.1785714285714 28.8318452380952  40.1785714285714 28.5714285714286  L 40.1785714285714 25  C 40.1785714285714 24.7395833333333  40.0948660714286 24.5256696428571  39.9274553571429 24.3582589285714  C 39.7600446428571 24.1908482142857  39.546130952381 24.1071428571429  39.2857142857143 24.1071428571429  L 35.7142857142857 24.1071428571429  C 35.4538690476191 24.1071428571429  35.2399553571429 24.1908482142857  35.0725446428571 24.3582589285714  C 34.9051339285714 24.5256696428571  34.8214285714286 24.7395833333333  34.8214285714286 25  L 34.8214285714286 28.5714285714286  C 34.8214285714286 28.8318452380952  34.9051339285714 29.0457589285714  35.0725446428571 29.2131696428571  C 35.2399553571429 29.3805803571429  35.4538690476191 29.4642857142857  35.7142857142857 29.4642857142857  L 39.2857142857143 29.4642857142857  C 39.546130952381 29.4642857142857  39.7600446428571 29.3805803571429  39.9274553571429 29.2131696428571  Z M 18 18  L 42.8571428571429 18  L 42.8571428571429 10.7142857142857  L 38.3928571428571 10.7142857142857  C 37.6488095238095 10.7142857142857  37.0163690476191 10.453869047619  36.4955357142857 9.93303571428572  C 35.9747023809524 9.41220238095238  35.7142857142857 8.7797619047619  35.7142857142857 8.03571428571428  L 35.7142857142857 4  L 18 4  L 18 18  Z "
                            fill-rule="nonzero" fill="#027db4" stroke="none" transform="matrix(1 0 0 1 40 110 )" />
                    </g>
                </svg>
                <p style="margin-left: 20px;">{{ datafilterdata.num }}</p>
                <div class="svg-icon2">
                    <type-box :text="datafilterdata.statustext" :status="datafilterdata.status"></type-box>
                </div>
            </div>
            <el-descriptions title="" :column=2 style="margin-left: 30px;">
                <el-descriptions-item label="申领人">{{ datafilterdata.user }}</el-descriptions-item>
                <el-descriptions-item label="内部审核人">{{ datafilterdata.auditor }}</el-descriptions-item>
                <el-descriptions-item label="申领时间">{{ datafilterdata.Purchasetime }}</el-descriptions-item>
                <el-descriptions-item label="内部审核时间">
                    {{ datafilterdata.Actualtime }}
                </el-descriptions-item>
            </el-descriptions>
        </el-card>
        <el-card class="box-card">
            <div slot="header" class="clearfix">
                <span>申领基础信息</span>
            </div>
            <el-descriptions title="" :column=2 style="margin-left: 30px;">
                <el-descriptions-item label="申领类型">{{ datafilterdata.Claimtype }}</el-descriptions-item>
                <el-descriptions-item label="关联单号">{{ datafilterdata.Associatedorder }}</el-descriptions-item>
                <el-descriptions-item label="领用部门">{{ datafilterdata.department }}</el-descriptions-item>
                <el-descriptions-item label="计划领用时间">{{ datafilterdata.Plannedtime }}</el-descriptions-item>
                <el-descriptions-item label="实际领用时间">{{ datafilterdata.Plannedtime }}</el-descriptions-item>
                <el-descriptions-item label="申领原因">{{ datafilterdata.remark }}</el-descriptions-item>
            </el-descriptions>
        </el-card>
        <el-card class="box-card">
            <div slot="header" class="clearfix">
                <span>申领明细</span>
            </div>
            <el-table v-loading="loading" :data="PopwindowDate" :rules="rules">
                <el-table-column label="序号" fixed="left" type="index" width="50" align="center" />
                <el-table-column label="仓库" align="center" sortable key="Stash" prop="Stash" :show-overflow-tooltip="true">
                </el-table-column>
                <el-table-column label="备件名称" align="center" sortable key="name" prop="name" :show-overflow-tooltip="true">
                </el-table-column>
                <el-table-column label="备件编码" align="center" sortable key="modelValue" prop="modelValue"
                    :show-overflow-tooltip="true" />
                <el-table-column label="规格型号" align="center" sortable key="manufacturer" prop="manufacturer"
                    :show-overflow-tooltip="true" />
                <el-table-column label="单位" align="center" sortable key="unit" prop="unit" :show-overflow-tooltip="true" />
                <el-table-column label="申领数量" align="center" sortable key="quantity" prop="quantity"
                    :show-overflow-tooltip="true">
                </el-table-column>
                <el-table-column label="实际领用数量" align="center" sortable key="quantity" prop="quantity"
                    :show-overflow-tooltip="true">
                </el-table-column>
            </el-table>
        </el-card>
        <el-row class="foot-btn flex justify-center align-center">
            <el-col :span="24" class="flex justify-center align-center">
                <el-button type="success" @click="handlePass">通过</el-button>
                <el-button @click="handleTurndown" plain type="danger">驳回</el-button>
                <el-button @click="onCancel()" style="margin-right: 12px">{{ isCreate ? "取消" : "关闭" }}</el-button>
            </el-col>
        </el-row>
    </div>
</template>
<script>
export default {
    name: "spareGetdetail",
    components: {},
    data() {
        return {
            dataList: [
               {
                    id: 1,    //id
                    Claimtype: "维修领用",
                    Associatedorder: "维修单号1",
                    num: "PNQG-20023", // 订单编号
                    status: 0, // 审核状态
                    statustext: "未提交", // 审核状态
                    Purchasetime: "2023年11月31日",
                    Plannedtime: "2023-12-01",
                    Actualtime: "2023年12月15日",
                    department: "技术部",
                    user: "杨波",
                    auditor: "王帆",
                    remark: "王帆-备注"
                }, {
                    id: 2,    //id
                    Claimtype: "维护领用",
                    Associatedorder: "维修单号2",
                    num: "PNQG-20024", // 订单编号
                    status: 1, // 审核状态
                    statustext: "未审核", // 审核状态
                    Purchasetime: "2023年12月15日",
                    Plannedtime: "2023-11-20",
                    Actualtime: "2023年12月24日",
                    department: "行政部",
                    user: "李丽",
                    auditor: "石昊",
                    remark: "石昊-备注"
                }, {
                    id: 3,    //id
                    num: "PNQG-20025", // 订单编号
                    status: 3, // 审核状态
                    Claimtype: "维护领用",
                    Associatedorder: "维修单号3",
                    statustext: "已撤回", // 审核状
                    Purchasetime: "2023年12月23日",
                    Plannedtime: "2023-12-23",
                    Actualtime: "2023年12月28日",
                    department: "销售部",
                    user: "石晓雅",
                    auditor: "伊月",
                    remark: "伊月-备注"
                }, {
                    id: 4,    //id
                    num: "PNQG-20026", // 订单编号
                    status: 2, // 审核状态
                    Claimtype: "维修领用",
                    Associatedorder: "维修单号1",
                    statustext: "审核通过", // 审核状态
                    Purchasetime: "2023年12月20日",
                    Plannedtime: "2023-12-25",
                    Actualtime: "2023年12月29日",
                    department: "行政部",
                    user: "南柠",
                    auditor: "蓝泉",
                    remark: "蓝泉-备注"
                },
                {
                    id: 5,    //id
                    Claimtype: "备用领用",
                    Associatedorder: "维修单号4",
                    num: "PNQG-20027", // 订单编号
                    status: 4, // 审核状态
                    statustext: "驳回", // 审核状态
                    Purchasetime: "2023年12月13日",
                    Plannedtime: "2023-12-25",
                    Actualtime: "2023年12月29日",
                    department: "总裁办",
                    user: "李海",
                    auditor: "胡南",
                    remark: "胡南-备注"
                }
            ],
            loading: false,
            PopwindowDate: [
                {
                    Editquantity: false,
                    id: 1,    //id
                    Stash: "配件仓库",
                    name: "液压后杠", // 设备名称
                    modelValue: "OUJ-10022", // 规格型号
                    manufacturer: "海联帆",//生产厂家
                    unit: "个",
                    quantity: "12"
                }, {
                    Editquantity: false,
                    id: 2,    //id
                    Stash: "零部件仓库",
                    name: "前挡器", // 设备名称
                    modelValue: "PUJ-10023", // 规格型号
                    manufacturer: "得利士",//生产厂家
                    unit: "套",
                    quantity: "22"
                }, {
                    Editquantity: false,
                    id: 3,    //id
                    Stash: "工具仓库",
                    name: "拖动扳手", // 设备名称
                    modelValue: "OPU-100029", // 规格型号
                    manufacturer: "施耐德",//生产厂家
                    unit: "米",
                    quantity: "14"
                }, {
                    Editquantity: false,

                    id: 4,    //id
                    Stash: "套件仓库",
                    name: "全身套条件", // 设备名称
                    modelValue: "TYP-10089", // 规格型号
                    manufacturer: "虎卡",//生产厂家
                    unit: "盒",
                    quantity: "2"
                }
            ],
            rules: {
                name: [
                    { required: true, message: "请输入设备名称", trigger: "blur" }
                ],
                modelValue: [
                    { required: true, message: "请输入规格型号", trigger: "blur" }
                ],
                manufacturer: [
                    { required: true, message: "请输入生产厂家", trigger: "blur" }
                ],
                unit: [
                    { required: true, message: "单位", trigger: "blur" }
                ]
            },
            routerId: "",
            datafilterdata: {}
        }
    },
    created() {
        this.routerId = this.$route.query.id
        this.datafilterdata = this.dataList.find((item) => item.id == this.routerId)
    },
    methods: {
        //关闭
        onCancel() {
            // 调用全局挂载的方法，关闭当前页
            this.$store.dispatch("tagsView/delView", this.$route);
            // 返回上一步路由
            this.$router.go(-1);
        },
        handlePass() {
            // 调用全局挂载的方法，关闭当前页
            this.$store.dispatch("tagsView/delView", this.$route);
            // 返回上一步路由
            this.$router.go(-1);
            this.$message.success("通过")
        },
        handleTurndown() {
            // 调用全局挂载的方法，关闭当前页
            this.$store.dispatch("tagsView/delView", this.$route);
            // 返回上一步路由
            this.$router.go(-1);
            this.$message.success("驳回成功")
        },
    }
}
</script>
<style scoped>
.foot-btn {
    z-index: 9;
    width: 100%;
    height: 80px;
    position: fixed;
    bottom: 0;
    left: 0;
    background-color: #ffffff;
    box-shadow: 0 0 10px #a0a8a0;
}

.box-card {
    margin: 20px 0;
}

.clearfixfooter {
    margin: 30px;
    text-align: center;
}

.topboxheader {
    position: relative;
    display: flex;
    align-items: center;
    font-size: 30px;
}
</style>